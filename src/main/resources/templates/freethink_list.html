<!DOCTYPE html>
<html lang="kr">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;500;700;900&display=swap&subset=korean" rel="stylesheet">    {{> include/header}}
    <style>
        .btn-icon-split {
            padding: 0;
            overflow: hidden;
            display: inline-flex;
            align-items: stretch;
            justify-content: center;
        }

        .btn-icon-split .icon {
            background: rgba(0, 0, 0, 0.1);
            display: inline-block;
            padding: 0.375rem 0.75rem;
        }

        .btn-icon-split .text {
            display: inline-block;
            color: white;
            font-weight: bolder;
            padding: 0.375rem 0.75rem;
        }

        .jan {
            background-color: lavender;
        }

        .feb {
            background-color: orange;
        }

        .mar {
            background-color: brown;
        }

        .apr {
            background-color: lightblue;
        }

        .may {
            background-color: lightgray;
        }

        .jun {
            background-color: indianred;
        }

        .jul {
            background-color: pink;
        }

        .sep {
            background-color: lightgreen;
        }

        .oct {
            background-color: mediumpurple;
        }

        .nov {
            background-color: darkorange;
        }

        .dec {
            background-color: sandybrown;
        }

        .event-list {
            list-style: none;
            font-family: "Noto Sans KR", sans-serif;
        }

        .event-list > li {
            background-color: rgb(255, 255, 255);
            box-shadow: 0px 0px 5px rgb(51, 51, 51);
            box-shadow: 0px 0px 5px rgba(51, 51, 51, 0.7);
            padding: 0px;
            margin: 0px 0px 20px;
        }

        .event-list > li > time {
            display: inline-block;
            width: 100%;
            color: rgb(255, 255, 255);
            /*background-color: rgb(197, 44, 102);*/
            padding: 5px;
            text-align: center;
            text-transform: uppercase;
        }

        .event-list > li:nth-child(even) > time {
            background-color: rgb(165, 82, 167);
        }

        .event-list > li > time > span {
            display: none;
        }

        .event-list > li > time > .day {
            display: block;
            font-size: 56pt;
            font-weight: 100;
            line-height: 1;
        }

        .event-list > li time > .month {
            display: block;
            font-size: 24pt;
            font-weight: 900;
            line-height: 1;
        }

        .event-list > li > img {
            width: 100%;
        }

        .event-list > li > .info {
            padding-top: 5px;
            text-align: center;
        }

        .event-list > li > .info > .title {
            font-size: xx-large;
            font-weight: 700;
            margin: 0px;
        }

        .event-list > li > .info > .desc {
            font-size: 13pt;
            font-weight: 300;
            margin: 0px;
        }

        .event-list > li > .info > ul,
        .event-list > li > .social > ul {
            display: table;
            list-style: none;
            margin: 10px 0px 0px;
            padding: 0px;
            width: 100%;
            text-align: center;
            color: ghostwhite;
            background-color: #929fba !important;
        }

        .event-list > li > .social > ul {
            margin: 0px;
        }

        .event-list > li > .info > ul > li,
        .event-list > li > .social > ul > li {
            display: table-cell;
            /*cursor: pointer;*/
            /*color: rgb(30, 30, 30);*/
            font-size: 11pt;
            font-weight: 300;
            padding: 3px 0px;
        }

        .event-list > li > .info > ul > li > a {
            display: block;
            width: 100%;
            /*color: rgb(30, 30, 30);*/
            text-decoration: none;
        }

        .event-list > li > .social > ul > li {
            padding: 0px;
        }

        .event-list > li > .social > ul > li > a {
            padding: 3px 0px;
        }

        @media (min-width: 768px) {
            .event-list > li {
                position: relative;
                display: block;
                width: 100%;
                height: 120px;
                padding: 0px;
            }

            .event-list > li > time,
            .event-list > li > img {
                display: inline-block;
            }

            .event-list > li > time,
            .event-list > li > img {
                width: 120px;
                float: left;
            }

            .event-list > li > .info {
                background-color: rgb(245, 245, 245);
                overflow: hidden;
            }

            .event-list > li > time,
            .event-list > li > img {
                width: 120px;
                height: 120px;
                padding: 0px;
                margin: 0px;
            }

            .event-list > li > .info {
                position: relative;
                height: 120px;
                text-align: left;
                padding-right: 40px;
            }

            .event-list > li > .info > .title,
            .event-list > li > .info > .desc {
                padding: 0px 10px;
            }

            .event-list > li > .info > ul {
                position: absolute;
                left: 0px;
                bottom: 0px;
            }

            .event-list > li > .social > ul {
                border-left: 1px solid rgb(230, 230, 230);
            }

            .event-list > li > .social > ul > li {
                display: block;
                padding: 0px;
            }

            .event-list > li > .social > ul > li > a {
                display: block;
                width: 40px;
                padding: 10px 0px 9px;
            }
        }


        .pagination > li > button {
            border-radius: 50% !important;
            margin: 0 5px;
        }

        .pagination .page-item .page-link {
            font-size: .9rem;
            color: #212529;
            background-color: transparent;
            border: 0;
            outline: 0;
            -webkit-transition: all .3s linear;
            transition: all .3s linear;
        }

        .pagination .page-item.active .page-link {
            color: #fff;
            background-color: #4e73df;
            border-radius: .125rem;
            -webkit-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
            box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
            -webkit-transition: all .2s linear;
            transition: all .2s linear;
        }
    </style>
</head>
<body>
{{> include/navbar}}
{{> include/searchbar}}
<div class="container">
    <div class="row justify-content-end mr-1">
        <a href="/create/post/free" class="col-auto btn btn-primary btn-icon-split shadow">
                    <span class="icon text-white-50">
                        <i class="fas fa-pen"></i>
                    </span>
            <span class="text">프리띵크 작성하기</span>
        </a>
    </div>
    {{#list}}
    <div class="row mt-3">
        <!--        todo : 클릭시 버튼 테두리 왜 안없어지냐 -->
        <button type="button" class="col btn" onclick=f({{id}})>
            <ul class="event-list">
                <li>
                    <!--todo : 월별로 time 클래스 바꾸기 -->
                    <time class="jan" datetime="{{createDate}}">
                        <span class="day">{{createDate.getDayOfMonth}}</span>
                        <span class="month" id="month">{{createDate.getMonthValue}}</span>
                        <!--                        <span class="year">2014</span>-->
                        <!--                        <span class="time">12:00 AM</span>-->
                    </time>
                    <div class="info">
                        <h2 class="title">{{title}}</h2>
                        <p class="desc">{{user.nick}}</p>
                        <ul>
                            <li style="width: 33%"><span class="far fa-heart"></span> {{like}}</li>
                            <li style="width: 33%"><span class="far fa-comments"></span> {{commentList}}</li>
                            <li style="width: 33%"><span class="far fa-eye"></span> {{hit}}</li>
                        </ul>
                    </div>
                </li>
            </ul>
        </button>
    </div>
    {{/list}}
</div>
<div class="mt-5" style="height: 200px">
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
            <li class="page-item">
                <button class="page-link" onclick=pagingFirst() id="first">First</button>
            </li>
            <li class="page-item">
                <button id="pre" class="page-link" aria-label="Previous" onclick=pagingPre({{page}})>
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Previous</span>
                </button>
            </li>
            <li class="page-item " id="page1" >
                <button class="page-link" href="" id="page1btn"></button>
            </li>
            <li class="page-item" id="page2" >
                <button class="page-link" href="?page=2" id="page2btn"></button>
            </li>
            <li class="page-item" id="page3" >
                <button class="page-link" href="" id="page3btn"></button>
            </li>
            <li class="page-item">
                <button id="next" class="page-link" aria-label="Next" onclick=pagingNext({{page}})>
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                </button>
            </li>
            <li class="page-item" onclick=pagingLast({{size}}) >
                <button class="page-link" id="last">Last</button>
            </li>
        </ul>
    </nav>
</div>

{{> include/think_pagination}}

<script>
    $('#searchBtn').click(function () {
        window.location.href = "/read/post/free/list?page=1&title=" + $('#searchInput').val();
    })


    // TODO: 2020-05-01 로직 클린하게
    for(let i=0; i<3; i++){
        btn[i].click(function () {
            window.location.href = "/read/post/free/list?page=" + btn[i].text()
        })
    }

    $('.month').text(function (i, oldText) {
        let months = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
        return months[parseInt(oldText) - 1];
    })

    $('#item').click(function (event) {
        console.log(event.getAttr("id"))
    })

    function f(data) {
        window.location.href = "/read/post/free?id=" + data
    }

    function pagingFirst() {
        window.location.href = "/read/post/free/list?page=" + 1;
    }

    function pagingLast(pageSize) {
        window.location.href = "/read/post/free/list?page=" + pageSize;
    }

    function pagingNext(page) {
        window.location.href = "/read/post/free/list?page=" + (page+1);
    }

    function pagingPre(page) {
        window.location.href = "/read/post/free/list?page=" + (page-1);
    }
</script>
<footer>
    {{> include/footer}}
</footer>
</body>



</html>
